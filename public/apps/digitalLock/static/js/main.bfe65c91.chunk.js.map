{"version":3,"sources":["Config.js","InfoModal.jsx","generatePackage.js","App.js","serviceWorker.js","index.js"],"names":["App","info","escapp","_this","this","options","name","value","props","title","type","callback","e","onConfigChange","target","noBreak","showUsername","friendlyName","timeout","parseInt","good","bad","theme","mode","react_default","a","createElement","htmlFor","undefined","onChange","readFile","files","res","answer","tip","puzzleId","escapeRoomId","puzzleLength","className","map","opt","humanize","op","selected","min","checked","scormVersion","file","isImage","reader","FileReader","onload","event","result","onerror","error","readAsDataURL","str","replace","toUpperCase","Component","InfoModal","show","onClick","hide","style","clear","href","rel","generatePackage","state","JSZipUtils","getBinaryContent","err","data","JSZip","loadAsync","then","zip","input","indexContent","parsedState","JSON","stringify","Object","objectSpread","content","moodleXmlPath","concat","generateIndex","decodeURIComponent","window","atob","slice","split","c","charCodeAt","toString","join","generateAsync","blob","FileSaver","saveAs","toLowerCase","Math","round","Date","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","CombinationLockImage","modes","themes","_this2","setState","showInfoModal","Config_App","assign","prop","defineProperty","preview","download","bind","id","InfoModal_InfoModal","_this3","fetch","process","text","response","onloadend","dev","el","document","getElementById","contentWindow","open","write","close","Boolean","location","hostname","match","ReactDOM","render","src_App_0","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.bfe65c91.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\n\r\nexport default class App extends Component {\r\n\r\n\trender(){\r\n\t\tconst options = [\r\n\t\t\t{ name: \"title:\", value: this.props.title, type: \"text\", callback: (e) => {this.props.onConfigChange(\"title\", e.target.value)}},\r\n\t\t\t{ name: \"showUsername\",  noBreak: true, value: this.props.showUsername, type: \"checkbox\", callback: (e) => {this.props.onConfigChange(\"showUsername\", !this.props.showUsername,)}},\r\n\t\t\t{ name: \"timeout\", friendlyName: \"Timeout\", value: this.props.timeout, type: \"number\", callback: (e) => {this.props.onConfigChange(\"timeout\", parseInt(e.target.value))}},\r\n\t\t\t{ name: \"successMessage:\", value: this.props.good, type: \"text\", callback: (e) => {this.props.onConfigChange(\"good\", e.target.value)}},\r\n\t\t\t{ name: \"failMessage:\", value: this.props.bad, type: \"text\", callback: (e) => {this.props.onConfigChange(\"bad\", e.target.value)}},\r\n\t\t\t{ name: \"Using Escapp??\", value: this.props.escapp, type: \"checkbox\", callback: (e) => {this.props.onConfigChange(\"escapp\", !this.props.escapp,)}},\r\n\t\t\t{ name: \"Theme\", value: this.props.theme, type: \"select\", options:[\"dark\",\"lux\",\"cerulean\",\"cyborg\",\"pulse\",\"sketchy\",\"superhero\"], callback: (e) => {this.props.onConfigChange(\"theme\", e.target.value)}},\r\n\t\t\t{ name: \"Quest Type\", value: this.props.theme, type: \"select\", options:[\"Symbol\", \"AlphaNumeric\", \"Pattern\", \"CombinationLock\"], callback: (e) => {this.props.onConfigChange(\"mode\", e.target.value)}}\r\n\t\t];\r\n\r\n\t\tlet info;\r\n\t\tlet escapp;\r\n\t\tif(this.props.mode === \"CombinationLock\"){\r\n\t\t\tinfo= <div>\r\n\t\t\t\t\t  <label htmlFor=\"CombinationLockImage\"><b>Combination Lock Image: </b></label>\r\n\t\t\t\t\t\t<input name=\"CombinationLockImage:\" type=\"file\" value={undefined} onChange={(e) => {this.readFile(e.target.files[0], res => this.props.onConfigChange(\"CombinationLockImage\", res),true)}}/>\r\n\t\t\t\t\t\t<br/><br/>\r\n\t\t\t\t\t\t<label htmlFor=\"answer\"><b>Combination Lock Answer:</b></label>\r\n\t\t\t\t\t \t<input name=\"Answer:\" type=\"text\" value={this.props.answer} onChange={(e) => {this.props.onConfigChange(\"answer\", e.target.value)}}/>\r\n\t\t\t\t\t \t<br/>\r\n\t\t\t\t\t\t</div>\r\n\t\t}\r\n\t\tif(this.props.mode === \"Pattern\"){\r\n\t\t\tinfo= <div>\r\n\t\t\t\t\t  <label htmlFor=\"tip\"><b>Tip:</b> </label> \r\n\t\t\t\t\t\t<input name=\"Tip:\" type=\"text\" value={this.props.tip} onChange={(e) => {this.props.onConfigChange(\"tip\", e.target.value)}}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t}\r\n\t\tif(this.props.escapp){\r\n\t\t\tescapp= <div><br/>\r\n\t\t\t\t\t\t<label htmlFor=\"puzzleId\"><b>Puzzle Id:</b></label>&nbsp;\r\n\t\t\t\t\t\t<input name=\"puzzleId:\" type=\"number\" value={this.props.puzzleId} onChange={(e) => {this.props.onConfigChange(\"puzzleId\", e.target.value)}}/>&nbsp;\r\n\t\t\t\t\t\t<label htmlFor=\"escapeRoomId\"><b>Escape Room Id:</b></label>&nbsp;\r\n\t\t\t\t\t\t<input name=\"escapeRoomId:\" type=\"number\" value={this.props.escapeRoomId} onChange={(e) => {this.props.onConfigChange(\"escapeRoomId\", e.target.value)}}/>\r\n\t\t\t\t\t\t<p/><label htmlFor=\"puzzleLength\"><b>Answer Length:</b></label>&nbsp;\r\n\t\t\t\t\t\t<input name=\"puzzleLength:\" type=\"number\" value={this.props.puzzleLength} onChange={(e) => {this.props.onConfigChange(\"puzzleLength\", e.target.value)}}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t}else{\r\n\t\t\tif(this.props.mode === \"Pattern\" || \"AlphaNumeric\" || \"Symbol\"){\r\n\t\t\t\tescapp= <div>\r\n\t\t\t\t<p/><label htmlFor=\"answer\"><b>Answer:</b></label><p/>\r\n\t\t\t\t<input name=\"Answer:\" type=\"text\" value={this.props.answer} onChange={(e) => {this.props.onConfigChange(\"answer\", e.target.value)}}/></div>\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\treturn <div className=\"config\">\r\n\t\t\t{options.map(opt=>{\r\n\t\t\t\treturn [<div className=\"form-group\" >\r\n\t\t\t\t<label htmlFor={opt.name}><b>{opt.friendlyName || this.humanize(opt.name)}</b></label>\r\n\t\t\t\t{opt.type == \"select\" ? \r\n\t\t\t\t<select name={opt.name} onChange={opt.callback}>\r\n\t\t\t\t\t{opt.options.map(op=><option value={op} selected={op===opt.value}>{this.humanize(op)}</option>)}\r\n\t\t\t\t</select>:\r\n\t\t\t\t<input name={opt.name} type={opt.type} value={opt.type === \"file\"? undefined: opt.value} min={opt.min} checked={opt.value} onChange={opt.callback}/>\r\n\t\t\t\t}\r\n\t\t\t</div>, opt.noBreak ? null: <br/>]\r\n\r\n\t\t\t})}\r\n\t\t\t<br/>\r\n\t\t\t{info}\r\n\t\t\t{escapp}\r\n\r\n\t\t\t\r\n\t\t\t<br/>\r\n\t\t\t<div className=\"form-group\">\r\n\t\t\t\t<label htmlFor=\"scormVersion\"><b>SCORM Version:</b></label><p/>\r\n\t\t\t\t<label htmlFor=\"scormVersion\">{\"SCORM 1.2\"}</label>\r\n\t\t\t\t<input name=\"scormVersion\" type=\"radio\" value={\"1.2\"} checked={this.props.scormVersion === \"1.2\"} onChange={(e) => {this.props.onConfigChange(\"scormVersion\", \"1.2\")}}/>\r\n\t\t\t\t<label htmlFor=\"scormVersion\">{\"SCORM 2004\"}</label>\r\n\t\t\t\t<input name=\"scormVersion\" type=\"radio\" value={\"1.2\"} checked={this.props.scormVersion === \"2004\"} onChange={(e) => {this.props.onConfigChange(\"scormVersion\", \"2004\")}}/>\r\n\r\n\t\t\t</div>\r\n\r\n\r\n\t\t</div>\r\n\t}\r\n\r\n\treadFile(file, callback, isImage) {\r\n\t\ttry {\r\n\t\t\tconst reader = new FileReader()\r\n\t\t\treader.onload = event => callback(event.target.result);\r\n\t\t\treader.onerror = error => callback(\"\");\r\n\t\t\treader.readAsDataURL(file);\r\n\t\t} catch (e) {\r\n\t\t\tcallback(\"\");\r\n\t\t}\r\n\r\n\t}\r\n\r\n\thumanize(str) {\r\n\t\treturn str\r\n\t\t    .replace(/([A-Z])/g, ' $1')\r\n\t\t    .replace(/^./, function(str){ return str.toUpperCase(); })\r\n\t}\r\n}\r\n","import React, { Component } from 'react';\r\n\r\nexport default class InfoModal extends Component {\r\n\r\n\trender(){\r\n\t\treturn <div className={this.props.show ? \"modal\" : \"modal hidden\"}>\r\n\t\t\t<div className=\"overlay\"/>\r\n\t\t\t<div className=\"modal-body\">\r\n\t\t\t\t<button className=\"modal-close\" onClick={this.props.hide}>\r\n\t\t\t\t  <i className=\"material-icons\">close</i>\r\n\t\t\t\t</button>\r\n\t\t\t\t<h3>About</h3>\r\n\t\t\t\t<br style={{clear: 'both'}}/>\r\n\t\t\t\t<div className=\"modal-content\">\r\n\t\t\t\tThis website allows you to customize your very own quiz application and generate a SCORM package so you can upload it to your preferred LMS.\r\n\t\t\t\t<h4>Author</h4>\r\n\t\t\t\t\t<hr/>\r\n\t\t\t\t\tThis project was developed by <a href=\"http://github.com/adelabat\" rel=\"noopener noreferrer\" target=\"_blank\">@adelabat</a> using <a rel=\"noopener noreferrer\" target=\"_blank\" href=\"https://github.com/agordillo/RESCORM\">RESCORM</a>.\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t}\r\n\r\n}\r\n","import JSZip from 'jszip';\r\nimport JSZipUtils from 'jszip-utils';\r\nimport FileSaver from 'file-saver';\r\n\r\nexport const generatePackage  = (state) => {\r\n    JSZipUtils.getBinaryContent(state.scormVersion === \"2004\" ? \"scorm2004.zip\":\"scorm12.zip\", function(err, data) {\r\n        if (err) {\r\n            throw err; // or handle err\r\n        }\r\n        JSZip.loadAsync(data).then(function(zip) {\r\n        \tlet indexContent = generateIndex(state)\r\n\t\t\tzip.file('index.html', indexContent);\r\n            if (state.moodleXmlPath) {\r\n                zip.file(\"assets/quiz.xml\", decode(state.moodleXmlPath));\r\n            } \r\n\t\t\tzip.generateAsync({ type: \"blob\" }).then(function(blob) {\r\n                FileSaver.saveAs(blob, state.title.toLowerCase().replace(/\\s/g, '') + Math.round(+new Date() / 1000) + (state.scormVersion === \"2004\" ? \"_2004\" : \"_1.2\") + \".zip\");\r\n            });\r\n        }) \r\n    });\r\n \r\n\r\n}\r\nfunction decode(input) {\r\n    return decodeURIComponent(window.atob(input.slice(21)).split('').map(function(c) {\r\n        return '%' + ('00' + c.charCodeAt(0).toString(16)).slice(-2);\r\n    }).join(''))\r\n}\r\n\r\nfunction generateIndex(state) {\r\n    let parsedState = JSON.stringify({...state, content: undefined, moodleXmlPath: state.moodleXmlPath ? \"assets/quiz.xml\" : undefined});\r\n    return `<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <title>${state.title || \"Quiz\"}</title>\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\r\n        <link href=\"https://fonts.googleapis.com/icon?family=Material+Icons\"\r\n      rel=\"stylesheet\">\r\n    <link href=\"https://fonts.googleapis.com/css?family=Source+Sans+Pro\" rel=\"stylesheet\">\r\n </head>\r\n<body>\r\n<div id=\"root\"></div>\r\n<script> window.config=JSON.parse('${parsedState}');</script>\r\n<script type=\"text/javascript\" src=\"bundle.js\"></script>\r\n</body>\r\n</html>`;\r\n}","import React, { Component } from 'react';\r\nimport Config from './Config';\r\nimport InfoModal from './InfoModal';\r\nimport './App.css';\r\nimport {generatePackage} from './generatePackage';\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state =  window.state || {\r\n      title: \"DIGITAL LOCK\",\r\n      showUsername:\"true\",\r\n      timeout:\"\",\r\n      answer:\"01\",\r\n      tip:\"Select the top 3 points starting from the left\",\r\n      CombinationLockImage:\"./../assets/images/CajaFuerte.png\",\r\n      modes:[\"Symbol\", \"AlphaNumeric\", \"Pattern\", \"CombinationLock\"],\r\n      mode:\"Pattern\",\r\n      themes:[\"dark\", \"lux\", \"cerulean\", \"cyborg\", \"pulse\", \"sketchy\", \"superhero\"],\r\n      theme:\"sketchy\",\r\n      good:\"Enhorabuena, lo has logrado!!\",\r\n      bad:\"Lo siento, se acab√≥ tu tiempo\",\r\n      escapp: true,\r\n      puzzleId: 5,\r\n      escapeRoomId: 1,\r\n      puzzleLength: 4,\r\n      scormVersion: \"1.2\",\r\n\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"App\">\r\n        <header>\r\n          <button className=\"info\" onClick={()=>{this.setState({showInfoModal: true})}}>\r\n            <i className=\"material-icons\">???</i>\r\n          </button>\r\n          <h1><i className=\"material-icons\">lock</i>\r\n          DIGITAL LOCK\r\n          </h1>\r\n          </header>\r\n        <div className=\"content\">\r\n\r\n          <div className=\"content-col left\">\r\n            <h1>Configuration</h1>\r\n            <Config {...this.state} onConfigChange={(prop,value)=>{this.setState({[prop]:value}); this.preview();}}/>\r\n\r\n            <div className=\"buttons\">\r\n              <button onClick={this.download.bind(this)}>\r\n                <i className=\"material-icons\">cloud_download</i>Dowload\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"content-col right\">\r\n            {/*<h2>Preview</h2>*/}\r\n            <iframe id=\"visor\" title=\"app\" />\r\n          </div>\r\n        </div>\r\n        <InfoModal show={this.state.showInfoModal} hide={()=>{this.setState({showInfoModal: false})}}/>\r\n      </div>\r\n\r\n    );\r\n  }\r\n  preview(){\r\n    fetch(process.env.PUBLIC_URL + \"/scorm12/index.html\").then(res=>res.text()).then(response=>{\r\n        this.onloadend(response);\r\n    })\r\n\r\n  }\r\n\r\n  onloadend(res) {\r\n    let content = res.replace('<div id=\"root\"></div>',`\r\n      <div id='root'></div>\r\n      <script>\r\n        window._babelPolyfill = false;\r\n        window.config=JSON.parse('${JSON.stringify({...this.state, dev: true})}');\r\n      </script>`)\r\n    content = content.replace(\"bundle.js\", process.env.PUBLIC_URL + \"/scorm12/bundle.js\")\r\n    let el = document.getElementById('visor')\r\n    el.contentWindow.document.open();\r\n    el.contentWindow.document.write(content);\r\n    el.contentWindow.document.close();\r\n  }\r\n  download() {\r\n    generatePackage(this.state);\r\n  }\r\n  componentDidMount(){\r\n    this.preview();\r\n  }\r\n\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read http://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: http://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}